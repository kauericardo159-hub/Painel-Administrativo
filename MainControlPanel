local player = game.Players.LocalPlayer
local pGui = player:WaitForChild("PlayerGui")

-- Limpeza
if pGui:FindFirstChild("MainControlPanel") then pGui.MainControlPanel:Destroy() end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "MainControlPanel"
ScreenGui.Parent = pGui
ScreenGui.ResetOnSpawn = false

-- Painel Central
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -200)
MainFrame.Size = UDim2.new(0, 300, 0, 400)
MainFrame.Visible = false -- Começa fechado

local UICorner = Instance.new("UICorner", MainFrame)
local UIStroke = Instance.new("UIStroke", MainFrame)
UIStroke.Thickness = 2
UIStroke.Color = Color3.fromRGB(255, 255, 255)

-- Barra de Título
local TitleFrame = Instance.new("Frame")
TitleFrame.Name = "TitleFrame"
TitleFrame.Parent = MainFrame
TitleFrame.Size = UDim2.new(1, 0, 0, 40)
TitleFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)

local TitleLabel = Instance.new("TextLabel")
TitleLabel.Parent = TitleFrame
TitleLabel.Size = UDim2.new(1, 0, 1, 0)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "CONTROL PANEL"
TitleLabel.TextColor3 = Color3.new(1, 1, 1)
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.TextSize = 16

local TCorner = Instance.new("UICorner", TitleFrame)

-- ScrollingFrame (Lista de Botões)
local Scroll = Instance.new("ScrollingFrame")
Scroll.Name = "ButtonList"
Scroll.Parent = MainFrame
Scroll.Position = UDim2.new(0.05, 0, 0.12, 0)
Scroll.Size = UDim2.new(0.9, 0, 0.85, 0)
Scroll.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
Scroll.BorderSizePixel = 0
Scroll.ScrollBarThickness = 4
Scroll.CanvasSize = UDim2.new(0, 0, 0, 0)
Scroll.AutomaticCanvasSize = Enum.AutomaticCanvasSize.Y -- Faz a rolagem funcionar sozinha

local SCorner = Instance.new("UICorner", Scroll)

-- Organizador Automático
local Layout = Instance.new("UIListLayout")
Layout.Parent = Scroll
Layout.Padding = UDim.new(0, 8)
Layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
Layout.SortOrder = Enum.SortOrder.LayoutOrder
