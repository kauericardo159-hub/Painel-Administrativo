-- Nome: ESP_Module
local player = game.Players.LocalPlayer
local pGui = player:WaitForChild("PlayerGui")
local ScreenGui = pGui:WaitForChild("MainControlPanel", 10)
local Scroll = ScreenGui.MainFrame:WaitForChild("ButtonList")

local espActive = false

local Container = Instance.new("Frame")
Container.Parent = Scroll
Container.Size = UDim2.new(1, 0, 0, 45)
Container.BackgroundTransparency = 1

local Button = Instance.new("TextButton")
Button.Parent = Container
Button.Size = UDim2.new(1, 0, 1, 0)
Button.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
Button.Text = "3 | VIEW PLAYERS & BOTS"
Button.TextColor3 = Color3.new(1, 1, 1)
Button.Font = Enum.Font.GothamBold
Button.TextSize = 16

Instance.new("UICorner", Button).CornerRadius = UDim.new(0, 8)

-- Função para limpar e atualizar ESP (Outline e Name)
local function updateESP()
    for _, model in pairs(workspace:GetChildren()) do
        if model:FindFirstChild("Humanoid") and model ~= player.Character then
            local isPlayer = game.Players:GetPlayerFromCharacter(model)
            local color = isPlayer and isPlayer.TeamColor.Color or Color3.new(1, 0, 0)
            
            if espActive then
                if not model:FindFirstChild("Highlight") then
                    local h = Instance.new("Highlight", model)
                    h.FillColor = color
                    h.OutlineColor = Color3.new(1,1,1)
                end
            else
                if model:FindFirstChild("Highlight") then model.Highlight:Destroy() end
            end
        end
    end
end

Button.MouseButton1Click:Connect(function()
    espActive = not espActive
    Button.BackgroundColor3 = espActive and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(45, 45, 45)
    updateESP()
end)

game:GetService("RunService").RenderStepped:Connect(updateESP)
